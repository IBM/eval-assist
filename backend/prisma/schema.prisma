// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider             = "prisma-client-py"
  interface            = "sync"
  recursive_type_depth = 5
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model StoredUseCase {
  id      Int    @id @default(autoincrement())
  user_id Int
  content Json
  name    String @unique

  app_user AppUser @relation(fields: [user_id], references: [id])

  @@map("stored_use_case")
}

model AppUser {
  id               Int             @id @default(autoincrement())
  email            String          @unique
  name             String          @default("")
  stored_use_cases StoredUseCase[]
  
  @@map("app_user")
}

// model Evaluation {
//   id   Int    @id @default(autoincrement())
//   name String

//   created_at  DateTime      @default(now())
//   deleted     Boolean       @default(false)
//   deleted_at  DateTime?
//   ModelOutput ModelOutput[]
//   Datum Datum[]

//   @@map("evaluation")
// }

// model Datum {
//   id          Int           @id @default(autoincrement())
//   context     Json
//   evaluation_id Int
//   evaluation    Evaluation @relation(fields: [evaluation_id], references: [id])
//   ModelOutput ModelOutput[]

//   @@map("datum")
// }

// model ModelOutput {
//   id            Int        @id @default(autoincrement())
//   evaluation_id Int
//   evaluation    Evaluation @relation(fields: [evaluation_id], references: [id])
//   datum_id      Int
//   datum         Datum      @relation(fields: [datum_id], references: [id])
//   config        String
//   text          String

//   @@map("model_output")
// }